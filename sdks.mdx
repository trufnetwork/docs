---
title: "SDKs"
description: "Learn how to interact with the TRUF.NETWORK using SDKs."
---

The TRUF.NETWORK offers SDKs in Go and TypeScript/JavaScript to facilitate seamless integration with its decentralized platform for economic data streams.

---

### What is a `streamID`?

A `streamID` is an identifier used in the TRUF.NETWORK (TN) to identify the deployed contract. It is a unique string generated from a descriptive name, such as an English name, to ensure easy reference and management of data streams.

---

### Go SDK

The Go SDK provides a comprehensive set of tools to interact with the TRUF.NETWORK, enabling operations on primitive, composed, and system streams—such as deployment, record insertion, metadata management, and batch operations.

_Installation:_

Ensure you have Go 1.20 or later installed. To install the SDK, run:

```bash
go get github.com/trufnetwork/sdk-go
```

_Example Usage:_

```go
package main

import (
    "context"
    "fmt"
    "time"

    "github.com/kwilteam/kwil-db/core/crypto"
    "github.com/kwilteam/kwil-db/core/crypto/auth"
    "github.com/trufnetwork/sdk-go/core/tnclient"
    "github.com/trufnetwork/sdk-go/core/types"
    "github.com/trufnetwork/sdk-go/core/util"
)

func main() {
    ctx := context.Background()

    // 1. Create a TN client with a signer
    pk, _ := crypto.Secp256k1PrivateKeyFromHex("<your-private-key-hex>")
    signer := &auth.EthPersonalSigner{Key: *pk}
    client, err := tnclient.NewClient(ctx, "https://gateway.infra.truf.network", tnclient.WithSigner(signer))
    if err != nil {
        panic(err)
    }

    // 2. Generate a unique stream ID
    streamId := util.GenerateStreamId("example-stream")

    // 3. Deploy a new primitive stream
    deployTx, err := client.DeployStream(ctx, streamId, types.StreamTypePrimitive)
    if err != nil {
        panic(err)
    }
    // Wait for deployment to be mined
    _, err = client.WaitForTx(ctx, deployTx, time.Second)
    if err != nil {
        panic(err)
    }

    // 4. Insert records into the stream
    primitiveActions, err := client.LoadPrimitiveActions()
    if err != nil {
        panic(err)
    }
    insertTx, err := primitiveActions.InsertRecords(ctx, []types.InsertRecordInput{
        {
            DataProvider: client.Address(),
            StreamId:     streamId,
            EventTime:    1672531200, // Unix timestamp for 2023-01-01
            Value:        123.45,
        },
    })
    if err != nil {
        panic(err)
    }
    _, _ = client.WaitForTx(ctx, insertTx, time.Second)

    // 5. Read records from the stream
    records, err := primitiveActions.GetRecord(ctx, types.GetRecordInput{
        DataProvider: client.Address(),
        StreamId:     streamId,
        From:         util.IntPtr(1672531200),
        To:           util.IntPtr(1675123200),
    })
    if err != nil {
        panic(err)
    }
    for _, r := range records {
        fmt.Println(r.EventTime, r.Value)
    }
}
```

This example covers the primary workflow: deploying a primitive stream, inserting records, and retrieving data. For more advanced operations—such as composed streams, batch deployments, permissions, and metadata management—refer to the API reference and interface docs:
- Client API: methods like DeployStream, DestroyStream, ListStreams, stream management, and more.
- Primitive Stream: InsertRecords and GetRecord
- Composed Stream: taxonomy management
For comprehensive examples and edge-case handling, consult the test files in the [sdk-Go repository](https://github.com/trufnetwork/sdk-go/tree/main/examples).

---

### TypeScript/JavaScript SDK

The TypeScript/JavaScript SDK provides tools to deploy, interact with, and consume economic data streams within the TRUF.NETWORK in both Node.js and browser environments.
_Installation:_

Ensure you have Node.js 18 or later installed. To install the SDK, run:

```bash
npm install @trufnetwork/sdk-js
```

_Example Usage:_

```javascript
import { NodeTNClient, StreamId, StreamType } from "@trufnetwork/sdk-js";
import { Wallet } from "ethers";
import * as dotenv from "dotenv";

dotenv.config();

(async () => {
  const wallet = new Wallet(process.env.PRIVATE_KEY!);
  const client = new NodeTNClient({
    endpoint: "https://gateway.infra.truf.network",
    signerInfo: { address: wallet.address, signer: wallet },
  });

  // 1. Generate a stream ID
  const streamId = StreamId.fromString("example-stream");

  // 2. Deploy a primitive stream
  const deployResponse = await client.deployStream(streamId, StreamType.Primitive);
  deployResponse.throw();
  const receipt = deployResponse.unwrap();
  await client.waitForTx(receipt.txHash);

  // 3. Insert records into the stream
  const primitive = client.loadPrimitiveAction();
  const insertResponse = await primitive.insertRecords([
    { stream: client.ownStreamLocator(streamId), eventTime: 1672531200, value: "123.45" },
  ]);
  insertResponse.throw();
  const insertReceipt = insertResponse.unwrap();
  await client.waitForTx(insertReceipt.txHash);

  // 4. Read records from the stream
  const records = await primitive.getRecord({
    stream: client.ownStreamLocator(streamId),
    from: 1672531200,
    to:   1675123200,
  });
  console.log(records);
})();
```

For comprehensive examples and edge-case handling, consult the test files in the [sdk-js repository](https://github.com/trufnetwork/sdk-js/tree/main/examples).

---

### Python SDK

The Python SDK wraps the Go SDK via C bindings, exposing the same core functionality—such as deploying streams, inserting records, retrieving data, managing taxonomies, and destroying streams—directly from Python code. It is still under active development and leverages the Go toolchain to compile its bindings.

_Requirements:_
- Python 3.8 or later

_Installation:_
```bash
pip install trufnetwork-sdk-py
```

_Example Usage:_

```python
from datetime import datetime, timezone
from trufnetwork_sdk_py.client import TNClient, STREAM_TYPE_PRIMITIVE, STREAM_TYPE_COMPOSED
from trufnetwork_sdk_py.utils import generate_stream_id

# 1. Initialize TN client
client = TNClient("https://gateway.infra.truf.network", "<your-private-key-hex>")

# 2. Generate unique stream IDs
primitive_id = generate_stream_id("example-primitive-stream")
composed_id  = generate_stream_id("example-composed-stream")

# 3. Deploy streams
tx1 = client.deploy_stream(primitive_id, STREAM_TYPE_PRIMITIVE)
print("Primitive deployed:", tx1)
tx2 = client.deploy_stream(composed_id, STREAM_TYPE_COMPOSED)
print("Composed deployed:", tx2)

# 4. Insert records into primitive stream
records = [
    {"date": int(datetime(2023, 1, 1, tzinfo=timezone.utc).timestamp()), "value": 10.5},
    {"date": int(datetime(2023, 1, 2, tzinfo=timezone.utc).timestamp()), "value": 12.2},
]
tx3 = client.insert_records(primitive_id, records)
print("Inserted records:", tx3)

# 5. Retrieve records from the stream
results = client.get_records(
    primitive_id,
    date_from=int(datetime(2023, 1, 1, tzinfo=timezone.utc).timestamp()),
    date_to=int(datetime(2023, 1, 3, tzinfo=timezone.utc).timestamp()),
)
for r in results:
    print("EventTime:", r["EventTime"], "Value:", r["Value"])

# 6. Define and describe taxonomy for composed stream
child_streams = {primitive_id: 1.0}
tx4 = client.set_taxonomy(composed_id, child_streams)
print("Taxonomy set:", tx4)

taxonomy = client.describe_taxonomy(composed_id)
print("Taxonomy:", taxonomy)

# 7. Destroy streams when done
client.destroy_stream(primitive_id)
client.destroy_stream(composed_id)
```

This example demonstrates the end-to-end Python workflow: client initialization, stream deployment, record management, taxonomy operations, and cleanup
For comprehensive examples and edge-case handling, consult the test files in the [sdk-py repository](https://github.com/trufnetwork/sdk-py/tree/main/examples).


## Using SDKs with Your Local Node

<Note>This section is intended for node operators who are running a local TRUF.NETWORK node that is fully synced with the network. If your node is not connected to the network, queries will return empty results because your local database will not contain any data. Always ensure your node is synchronized before using it as an SDK endpoint.</Note>

Before you can fetch data from a stream using the SDKs, you need to know the stream's ID and the data provider address. The easiest way to discover these is by using the [TRUF.NETWORK Explorer](https://truf.network/explorer/0x4710a8d8f0d845da110086812a32de6d90d7ff5c/stai0000000000000000000000000000). For example, the "AI Index" stream's details—including its stream ID (`stai0000000000000000000000000000`) and data provider (`0x4710a8d8f0d845da110086812a32de6d90d7ff5c`)—can be found there. You can browse the explorer to find many other streams, view their metadata, composition, and usage, and use those details in your SDK queries.

You can use any TRUF.NETWORK SDK (Go, TypeScript/JavaScript, Python) to interact with your own local node, not just the public gateway. This allows you to fetch data directly from your node, which is especially useful for node operators, validators, and developers.

### Prerequisites

1. **Node is fully synced:**  
   Ensure your node is fully synchronized with the network and has all data available.  
   See the [Node Operator Guide](./node-operator-guide.mdx#7-verify-node-synchronization) for instructions on checking sync status.

2. **Local endpoint:**  
   Your node should be running and exposing the HTTP API at `http://localhost:8484` (the default).

---

### Example: Fetching Data from Your Local Node

Below are examples for each SDK to fetch records from the "AI Index" stream:

- **Data Provider:** `0x4710a8d8f0d845da110086812a32de6d90d7ff5c`
- **Stream ID:** `stai0000000000000000000000000000`
- **Endpoint:** `http://localhost:8484`

#### Go SDK

First, install the Go SDK:

```bash
go get github.com/trufnetwork/sdk-go
```

Then, use the following code to connect to your local node and fetch data:

```go
package main

import (
    "context"
    "fmt"
    "github.com/kwilteam/kwil-db/core/crypto"
    "github.com/kwilteam/kwil-db/core/crypto/auth"
    "github.com/trufnetwork/sdk-go/core/tnclient"
    "github.com/trufnetwork/sdk-go/core/types"
    "github.com/trufnetwork/sdk-go/core/util"
)

func main() {
    ctx := context.Background()
    pk, _ := crypto.Secp256k1PrivateKeyFromHex("YOUR_PRIVATE_KEY")
    signer := &auth.EthPersonalSigner{Key: *pk}
    tnClient, err := tnclient.NewClient(
        ctx,
        "http://localhost:8484",
        tnclient.WithSigner(signer))
    if err != nil {
        panic(err)
    }
    primitiveActions, _ := tnClient.LoadPrimitiveActions()
    records, err := primitiveActions.GetRecord(ctx, types.GetRecordInput{
        DataProvider: "0x4710a8d8f0d845da110086812a32de6d90d7ff5c",
        StreamId:     "stai0000000000000000000000000000",
    })
    if err != nil {
        panic(err)
    }
    for _, r := range records {
		fmt.Println(r.EventTime, r.Value.String())
    }
}
```

<Note>Replace `YOUR_PRIVATE_KEY` with your actual private key (hex string). The signer is required for authenticated operations and transaction signing.</Note>

#### TypeScript/JavaScript SDK

First, install the SDK and dependencies:

```bash
pnpm install @trufnetwork/sdk-js ethers
```

Then, use the following code to connect to your local node and fetch data:

```javascript
import { NodeTNClient, StreamLocator, EthereumAddress, StreamId } from "@trufnetwork/sdk-js";
import { Wallet } from "ethers";

const wallet = new Wallet(
    "YOUR_PRIVATE_KEY"
);
const client = new NodeTNClient({
    chainId: "",
    endpoint: "http://localhost:8484",
    signerInfo: {
        address: wallet.address,
        signer: wallet,
    },
});

const streamLocator: StreamLocator = {
    streamId: StreamId.fromString("stai0000000000000000000000000000").unwrap(),
    dataProvider: EthereumAddress.fromString("0x4710a8d8f0d845da110086812a32de6d90d7ff5c").throw(),
};

const primitive = client.loadPrimitiveAction();
const records = await primitive.getRecord({
  stream: streamLocator,
});
console.log(records);
```

<Note>Replace `YOUR_PRIVATE_KEY` with your actual private key (hex string). The wallet is required for signing and authenticating requests.</Note>

#### Python SDK

**Quick Start from Scratch**

If you are starting a new project, follow these steps:

```bash
mkdir my-truf-project
cd my-truf-project
python -m venv .venv
source .venv/bin/activate
```

Create a `pyproject.toml` file with the following content:

```toml
[project]
dependencies = [
    "trufnetwork-sdk-py@git+https://github.com/trufnetwork/sdk-py.git@main"
]
name = "my-truf-project"
version = "0.1.0"
```

Then install dependencies:

```bash
pip install .
```

Now you can use the SDK in your code:

```python
from trufnetwork_sdk_py.client import TNClient

# Replace with your actual private key (hex string)
client = TNClient("http://localhost:8484", "YOUR_PRIVATE_KEY")
results = client.get_records(
    "stai0000000000000000000000000000",
    data_provider="0x4710a8d8f0d845da110086812a32de6d90d7ff5c"
)
for r in results:
    print("EventTime:", r["EventTime"], "Value:", r["Value"])
```

<Note>The `TNClient` constructor requires both the endpoint URL and your private key as positional arguments. The private key is used for signing transactions and authenticating with the node.</Note>

---

### Troubleshooting

- If you receive empty results, ensure your node is fully synced and has the latest data.
- If you cannot connect, verify your node is running and listening on `http://localhost:8484`.

For more details on node setup and sync, see the [Node Operator Guide](./node-operator-guide.mdx).

---

### Additional Resources

- [Truflation Whitepaper](https://whitepaper.truflation.com)
- [SDK-Go Documentation](https://github.com/trufnetwork/sdk-go)
- [SDK-JS Documentation](https://github.com/trufnetwork/sdk-js)
- [SDK-Py Documentation](https://github.com/trufnetwork/sdk-py)

For support or questions, please open an issue in the respective SDK repository or contact our support team.